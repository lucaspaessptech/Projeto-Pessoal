<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Matéria</title>
    <link rel="stylesheet" href="../css/materia.css">
</head>
<script>
    var idVar = Number(sessionStorage.id);
</script>
<body>
    
<div class="divTotal">
    <div class="barraSup">Placeholder</div>
    <div class="menu">Aritmética</div>
    <div class="menu2"></div>
    <div class="div_conteudo">

 <div class="teste">       
    <h2 id="h2_ramo"></h2>
    <h3 id="h3_titulo"></h3>
    <h3 class="tituloExplicacao">Desenvolvendo o raciocínio</h3>
    <div class="divExplicacao">
        <span id="span_explicacao"></span>
    </div>
    <div class="divPratica" id="divPratica">
        <h3 class="tituloExplicacao">Hora da prática</h3>
        <span id="questões">
</span>
<button onclick="verificar()">Verificar Resposta</button>
<button onclick="carregarConteudo()">Teste</button>
    </div></div> 
        <div class="divCuriosidade">
            <h3 class="tituloExplicacao">Curiosidades sobre:</h3>
            <span id="span_curiosidade"></span>
        </div>
    </div>

    


</div>

</body>
</html>

<script>
carregarConteudo()
function carregarConteudo(){
    fetch("/questoes/carregarConteudo", {
        method: "POST",
        headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                idServer: idVar,
            })
        }).then((res) => {
        res.json().then((json) => {
            console.log(json)
            console.log(json[0].ramo)
            h2_ramo.innerHTML = json[0].ramo
            h3_titulo.innerHTML = json[0].titulo
            span_explicacao.innerHTML = json[0].explicacao
            span_curiosidade.innerHTML = json[0].curiosidade
            if(json[0].idQuestao == null){
                divPratica.innerHTML = "";
            }
            for(i = 0; i < json.length; i++){
                questões.innerHTML+=`${i+1}.${json[i].conteudo}<br>
                <input type="radio" class="respostas" value="${json[i].opcao1}" name="respostas"><label for="">A.${json[i].opcao1}</label><br>
                <input type="radio" class="respostas" value="${json[i].opcao2}" name="respostas"><label for="">B.${json[i].opcao1}</label><br>
                <input type="radio" class="respostas" value="${json[i].opcao3}" name="respostas"><label for="">C.${json[i].opcao1}</label><br>
                <input type="radio" class="respostas" value="${json[i].opcao4}" name="respostas"><label for="">D.${json[i].opcao1}</label><br>`
            }
        })
    })
}

function verificar(){
    var respostas = document.getElementsByName("respostas");
    for(i = 0; i < respostas.length; i ++){
        if(respostas[i].checked){
            var resposta = respostas[i].value;
            console.log(resposta)
        }
    }
}

</script>